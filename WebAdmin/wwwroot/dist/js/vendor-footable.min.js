/*
* FooTable v3 - FooTable is a jQuery plugin that aims to make HTML tables on smaller devices look awesome.
* @version 3.1.6
* @link http://fooplugins.com
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
(function(n,t){window.console=window.console||{log:function(){},error:function(){}};n.fn.footable=function(n,i){return n=n||{},this.filter("table").each(function(r,u){t.init(u,n,i)})};var i={events:[]};t.__debug__=JSON.parse(localStorage.getItem("footable_debug"))||!1;t.__debug_options__=JSON.parse(localStorage.getItem("footable_debug_options"))||i;t.debug=function(r,u){if(!t.is.boolean(r))return t.__debug__;t.__debug__=r;t.__debug__?(localStorage.setItem("footable_debug",JSON.stringify(t.__debug__)),t.__debug_options__=n.extend(!0,{},i,u||{}),t.is.hash(u)&&localStorage.setItem("footable_debug_options",JSON.stringify(t.__debug_options__))):(localStorage.removeItem("footable_debug"),localStorage.removeItem("footable_debug_options"))};t.get=function(t){return n(t).first().data("__FooTable__")};t.init=function(n,i,r){var u=t.get(n);return u instanceof t.Table&&u.destroy(),new t.Table(n,i,r)};t.getRow=function(t){var i=n(t).closest("tr");return i.hasClass("footable-detail-row")&&(i=i.prev()),i.data("__FooTableRow__")}})(jQuery,FooTable=window.FooTable||{}),function(n){var t=function(){return!0};n.arr={};n.arr.each=function(t,i){if(n.is.array(t)&&n.is.fn(i))for(var r=0,u=t.length;r<u;r++)if(i(t[r],r)===!1)break};n.arr.get=function(t,i){var u=[],r,f;if(!n.is.array(t))return u;if(!n.is.fn(i))return t;for(r=0,f=t.length;r<f;r++)i(t[r],r)&&u.push(t[r]);return u};n.arr.any=function(i,r){if(!n.is.array(i))return!1;r=n.is.fn(r)?r:t;for(var u=0,f=i.length;u<f;u++)if(r(i[u],u))return!0;return!1};n.arr.contains=function(t,i){if(!n.is.array(t)||n.is.undef(i))return!1;for(var r=0,u=t.length;r<u;r++)if(t[r]==i)return!0;return!1};n.arr.first=function(i,r){if(!n.is.array(i))return null;r=n.is.fn(r)?r:t;for(var u=0,f=i.length;u<f;u++)if(r(i[u],u))return i[u];return null};n.arr.map=function(t,i){var u=[],f=null,r,e;if(!n.is.array(t)||!n.is.fn(i))return u;for(r=0,e=t.length;r<e;r++)(f=i(t[r],r))!=null&&u.push(f);return u};n.arr.remove=function(t,i){var u=[],f=[],r,e,o;if(!n.is.array(t)||!n.is.fn(i))return f;for(r=0,e=t.length;r<e;r++)i(t[r],r,f)&&(u.push(r),f.push(t[r]));for(u.sort(function(n,t){return t-n}),r=0,e=u.length;r<e;r++)o=u[r]-r,t.splice(o,1);return f};n.arr.delete=function(t,i){var u=-1,f=null,r,e;if(!n.is.array(t)||n.is.undef(i))return f;for(r=0,e=t.length;r<e;r++)if(t[r]==i){u=r;f=t[r];break}return u!=-1&&t.splice(u,1),f};n.arr.replace=function(n,t,i){var r=n.indexOf(t);r!==-1&&(n[r]=i)}}(FooTable),function(n){n.is={};n.is.type=function(n,t){return typeof n===t};n.is.defined=function(n){return typeof n!="undefined"};n.is.undef=function(n){return typeof n=="undefined"};n.is.array=function(n){return"[object Array]"===Object.prototype.toString.call(n)};n.is.date=function(n){return"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n.getTime())};n.is.boolean=function(n){return"[object Boolean]"===Object.prototype.toString.call(n)};n.is.string=function(n){return"[object String]"===Object.prototype.toString.call(n)};n.is.number=function(n){return"[object Number]"===Object.prototype.toString.call(n)&&!isNaN(n)};n.is.fn=function(t){return n.is.defined(window)&&t===window.alert||"[object Function]"===Object.prototype.toString.call(t)};n.is.error=function(n){return"[object Error]"===Object.prototype.toString.call(n)};n.is.object=function(n){return"[object Object]"===Object.prototype.toString.call(n)};n.is.hash=function(t){return n.is.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval};n.is.element=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"};n.is.promise=function(t){return n.is.object(t)&&n.is.fn(t.then)&&n.is.fn(t.promise)};n.is.jq=function(t){return n.is.defined(window.jQuery)&&t instanceof jQuery&&t.length>0};n.is.moment=function(t){return n.is.defined(window.moment)&&n.is.object(t)&&n.is.boolean(t._isAMomentObject)};n.is.emptyObject=function(t){if(!n.is.hash(t))return!1;for(var i in t)if(t.hasOwnProperty(i))return!1;return!0};n.is.emptyArray=function(t){return n.is.array(t)?t.length===0:!0};n.is.emptyString=function(t){return n.is.string(t)?t.length===0:!0}}(FooTable),function(n){n.str={};n.str.contains=function(t,i,r){return n.is.emptyString(t)||n.is.emptyString(i)?!1:i.length<=t.length&&(r?t.toUpperCase().indexOf(i.toUpperCase()):t.indexOf(i))!==-1};n.str.containsExact=function(t,i,r){return n.is.emptyString(t)||n.is.emptyString(i)||i.length>t.length?!1:new RegExp("\\b"+n.str.escapeRegExp(i)+"\\b",r?"i":"").test(t)};n.str.containsWord=function(t,i,r){var f,u,e;if(n.is.emptyString(t)||n.is.emptyString(i)||t.length<i.length)return!1;for(f=t.split(/\W/),u=0,e=f.length;u<e;u++)if(r?f[u].toUpperCase()==i.toUpperCase():f[u]==i)return!0;return!1};n.str.from=function(t,i){return n.is.emptyString(t)?t:n.str.contains(t,i)?t.substring(t.indexOf(i)+1):t};n.str.startsWith=function(t,i){return n.is.emptyString(t)?t==i:t.slice(0,i.length)==i};n.str.toCamelCase=function(t){return n.is.emptyString(t)?t:t.toUpperCase()===t?t.toLowerCase():t.replace(/^([A-Z])|[-\s_](\w)/g,function(t,i,r){return n.is.string(r)?r.toUpperCase():i.toLowerCase()})};n.str.random=function(t){return t=n.is.emptyString(t)?"":t,t+Math.random().toString(36).substr(2,9)};n.str.escapeRegExp=function(t){return n.is.emptyString(t)?t:t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}(FooTable),function(n){"use strict";function t(){}Object.create||(Object.create=function(){var t=function(){};return function(i){if(arguments.length>1)throw Error("Second argument not supported");if(!n.is.object(i))throw TypeError("Argument must be an object");t.prototype=i;return t.prototype=null,{}}}());var i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;t.__extend__=function(t,r,u,f){t[r]=n.is.fn(f)&&i.test(u)?function(n,t){return function(){var n,i;return n=this._super,this._super=f,i=t.apply(this,arguments),this._super=n,i}}(r,u):u};t.extend=function(r,u){function h(t,r,u,f){t[r]=n.is.fn(f)&&i.test(u)?function(n,t,i){return function(){var n,r;return n=this._super,this._super=i,r=t.apply(this,arguments),this._super=n,r}}(r,u,f):u}var s=Array.prototype.slice.call(arguments),f,c,e,o;if(r=s.shift(),u=s.shift(),n.is.hash(r)){f=Object.create(this.prototype);c=this.prototype;for(e in r)e!=="__ctor__"&&h(f,e,r[e],c[e]);return o=n.is.fn(f.__ctor__)?f.__ctor__:function(){if(!n.is.fn(this.construct))throw new SyntaxError('FooTable class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)},f.construct=n.is.fn(f.construct)?f.construct:function(){},o.prototype=f,f.constructor=o,o.extend=t.extend,o}n.is.string(r)&&n.is.fn(u)&&h(this.prototype,r,u,this.prototype[r])};n.Class=t;n.ClassFactory=n.Class.extend({construct:function(){this.registered={}},contains:function(t){return n.is.defined(this.registered[t])},names:function(){var n=[];for(var t in this.registered)this.registered.hasOwnProperty(t)&&n.push(t);return n},register:function(t,i,r){if(n.is.string(t)&&n.is.fn(i)){var u=this.registered[t];this.registered[t]={name:t,klass:i,priority:n.is.number(r)?r:n.is.defined(u)?u.priority:0}}},load:function(t){var u=this,o=Array.prototype.slice.call(arguments),f=[],s=[],i,r,e;t=o.shift()||{};for(i in u.registered)u.registered.hasOwnProperty(i)&&(e=u.registered[i],t.hasOwnProperty(i)&&(r=t[i],n.is.string(r)&&(r=n.getFnPointer(t[i])),n.is.fn(r)&&(e={name:i,klass:r,priority:u.registered[i].priority})),f.push(e));for(i in t)t.hasOwnProperty(i)&&!u.registered.hasOwnProperty(i)&&(r=t[i],n.is.string(r)&&(r=n.getFnPointer(t[i])),n.is.fn(r)&&f.push({name:i,klass:r,priority:0}));return f.sort(function(n,t){return t.priority-n.priority}),n.arr.each(f,function(t){n.is.fn(t.klass)&&s.push(u._make(t.klass,o))}),s},make:function(t){var r=this,u=Array.prototype.slice.call(arguments),i;return(t=u.shift(),i=r.registered[t],n.is.fn(i.klass))?r._make(i.klass,u):null},_make:function(n,t){function i(){return n.apply(this,t)}return i.prototype=n.prototype,new i}})}(FooTable),function(n,t){t.css2json=function(i){var e,f,r,o,s,u,h;if(t.is.emptyString(i))return{};for(e={},f=i.split(";"),u=0,h=f.length;u<h;u++)t.is.emptyString(f[u])||(r=f[u].split(":"),t.is.emptyString(r[0])||t.is.emptyString(r[1]))||(o=t.str.toCamelCase(n.trim(r[0])),s=n.trim(r[1]),e[o]=s);return e};t.getFnPointer=function(n){if(t.is.emptyString(n))return null;var i=window,r=n.split(".");return t.arr.each(r,function(n){i[n]&&(i=i[n])}),t.is.fn(i)?i:null};t.checkFnValue=function(n,i,r){function u(n,i,r){return t.is.fn(i)?function(){return i.apply(n,arguments)}:r}return r=t.is.fn(r)?r:null,t.is.fn(i)?u(n,i,r):t.is.type(i,"string")?u(n,t.getFnPointer(i),r):r}}(jQuery,FooTable),function(n,t){t.Cell=t.Class.extend({construct:function(n,t,i,r){this.ft=n;this.row=t;this.column=i;this.created=!1;this.define(r)},define:function(i){this.$el=t.is.element(i)||t.is.jq(i)?n(i):null;this.$detail=null;var r=t.is.hash(i)&&t.is.hash(i.options)&&t.is.defined(i.value);this.value=this.column.parser.call(this.column,t.is.jq(this.$el)?this.$el:r?i.value:i,this.ft.o);this.o=n.extend(!0,{classes:null,style:null},r?i.options:{});this.classes=t.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[];this.style=t.is.jq(this.$el)&&this.$el.attr("style")?t.css2json(this.$el.attr("style")):t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{}},$create:function(){this.created||((this.$el=t.is.jq(this.$el)?this.$el:n("<td/>")).data("value",this.value).contents().detach().end().append(this.format(this.value)),this._setClasses(this.$el),this._setStyle(this.$el),this.$detail=n("<tr/>").addClass(this.row.classes.join(" ")).data("__FooTableCell__",this).append(n("<th/>")).append(n("<td/>")),this.created=!0)},collapse:function(){this.created&&(this.$detail.children("th").html(this.column.title),this.$el.clone().attr("id",this.$el.attr("id")?this.$el.attr("id")+"-detail":undefined).css("display","table-cell").html("").append(this.$el.contents().detach()).replaceAll(this.$detail.children("td").first()),t.is.jq(this.$detail.parent())||this.$detail.appendTo(this.row.$details.find(".footable-details > tbody")))},restore:function(){if(this.created){if(t.is.jq(this.$detail.parent())){var n=this.$detail.children("td").first();this.$el.attr("class",n.attr("class")).attr("style",n.attr("style")).css("display",this.column.hidden||!this.column.visible?"none":"table-cell").append(n.contents().detach())}this.$detail.detach()}},parse:function(){return this.column.parser.call(this.column,this.$el,this.ft.o)},format:function(n){return this.column.formatter.call(this.column,n,this.ft.o,this.row.value)},val:function(i,r,u){var e,o,s,f;if(t.is.undef(i))return this.value;e=this;o=t.is.hash(i)&&t.is.hash(i.options)&&t.is.defined(i.value);this.o=n.extend(!0,{classes:e.classes,style:e.style},o?i.options:{});this.value=o?i.value:i;this.classes=t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[];this.style=t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{};u=t.is.boolean(u)?u:!0;this.created&&u&&(this.$el.data("value",this.value).empty(),s=this.$detail.children("td").first().empty(),f=t.is.jq(this.$detail.parent())?s:this.$el,f.append(this.format(this.value)),this._setClasses(f),this._setStyle(f),(t.is.boolean(r)?r:!0)&&this.row.draw())},_setClasses:function(n){var r=!t.is.emptyArray(this.column.classes),u=!t.is.emptyArray(this.classes),i=null;(n.removeAttr("class"),r||u)&&(r&&u?i=this.classes.concat(this.column.classes).join(" "):r?i=this.column.classes.join(" "):u&&(i=this.classes.join(" ")),t.is.emptyString(i)||n.addClass(i))},_setStyle:function(i){var u=!t.is.emptyObject(this.column.style),f=!t.is.emptyObject(this.style),r=null;(i.removeAttr("style"),u||f)&&(u&&f?r=n.extend({},this.column.style,this.style):u?r=this.column.style:f&&(r=this.style),t.is.hash(r)&&i.css(r))}})}(jQuery,FooTable),function(n,t){t.Column=t.Class.extend({construct:function(n,i,r){this.ft=n;this.type=t.is.emptyString(r)?"text":r;this.virtual=t.is.boolean(i.virtual)?i.virtual:!1;this.$el=t.is.jq(i.$el)?i.$el:null;this.index=t.is.number(i.index)?i.index:-1;this.internal=!1;this.define(i);this.$create()},define:function(n){this.hidden=t.is.boolean(n.hidden)?n.hidden:!1;this.visible=t.is.boolean(n.visible)?n.visible:!0;this.name=t.is.string(n.name)?n.name:null;this.name==null&&(this.name="col"+(n.index+1));this.title=t.is.string(n.title)?n.title:null;!this.virtual&&this.title==null&&t.is.jq(this.$el)&&(this.title=this.$el.html());this.title==null&&(this.title="Column "+(n.index+1));this.style=t.is.hash(n.style)?n.style:t.is.string(n.style)?t.css2json(n.style):{};this.classes=t.is.array(n.classes)?n.classes:t.is.string(n.classes)?n.classes.match(/\S+/g):[];this.parser=t.checkFnValue(this,n.parser,this.parser);this.formatter=t.checkFnValue(this,n.formatter,this.formatter)},$create:function(){(this.$el=!this.virtual&&t.is.jq(this.$el)?this.$el:n("<th/>")).html(this.title).addClass(this.classes.join(" ")).css(this.style)},parser:function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("value");return t.is.defined(r)?r:n(i).html()}return t.is.defined(i)&&i!=null?i+"":null},formatter:function(n){return n==null?"":n},createCell:function(n){var i=t.is.jq(n.$el)?n.$el.children("td,th").get(this.index):null,r=t.is.hash(n.value)?n.value[this.name]:null;return new t.Cell(this.ft,n,this,i||r)}});t.columns=new t.ClassFactory;t.columns.register("text",t.Column)}(jQuery,FooTable),function(n,t){t.Component=t.Class.extend({construct:function(n,i){if(!(n instanceof t.Table))throw new TypeError("The instance parameter must be an instance of FooTable.Table.");this.ft=n;this.enabled=t.is.boolean(i)?i:!1},preinit:function(){},init:function(){},destroy:function(){},predraw:function(){},draw:function(){},postdraw:function(){}});t.components=new t.ClassFactory}(jQuery,FooTable),function(n,t){t.Defaults=function(){this.stopPropagation=!1;this.on=null};t.defaults=new t.Defaults}(jQuery,FooTable),function(n,t){t.Row=t.Class.extend({construct:function(n,t,i){this.ft=n;this.columns=t;this.created=!1;this.define(i)},define:function(i){var u,f,r;this.$el=t.is.element(i)||t.is.jq(i)?n(i):null;this.$toggle=n("<span/>",{"class":"footable-toggle fooicon fooicon-plus"});u=t.is.hash(i);f=u&&t.is.hash(i.options)&&t.is.hash(i.value);this.value=u?f?i.value:i:null;this.o=n.extend(!0,{expanded:!1,classes:null,style:null},f?i.options:{});this.expanded=t.is.jq(this.$el)?this.$el.data("expanded")||this.o.expanded:this.o.expanded;this.classes=t.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[];this.style=t.is.jq(this.$el)&&this.$el.attr("style")?t.css2json(this.$el.attr("style")):t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{};this.cells=this.createCells();r=this;r.value={};t.arr.each(r.cells,function(n){r.value[n.column.name]=n.val()})},$create:function(){if(!this.created){(this.$el=t.is.jq(this.$el)?this.$el:n("<tr/>")).data("__FooTableRow__",this);this._setClasses(this.$el);this._setStyle(this.$el);this.ft.rows.toggleColumn=="last"&&this.$toggle.addClass("last-column");this.$details=n("<tr/>",{"class":"footable-detail-row"}).append(n("<td/>",{colspan:this.ft.columns.visibleColspan}).append(n("<table/>",{"class":"footable-details "+this.ft.classes.join(" ")}).append("<tbody/>")));var i=this;t.arr.each(i.cells,function(n){n.created||n.$create();i.$el.append(n.$el)});i.$el.off("click.ft.row").on("click.ft.row",{self:i},i._onToggle);this.created=!0}},createCells:function(){var n=this;return t.arr.map(n.columns,function(t){return t.createCell(n)})},val:function(i,r,u){var f=this,o,s,e;if(!t.is.hash(i))return(!t.is.hash(this.value)||t.is.emptyObject(this.value))&&(this.value={},t.arr.each(this.cells,function(n){n.column.internal||(f.value[n.column.name]=n.val())})),this.value;if(this.collapse(!1),o=t.is.hash(i),s=o&&t.is.hash(i.options)&&t.is.hash(i.value),this.o=n.extend(!0,{expanded:f.expanded,classes:f.classes,style:f.style},s?i.options:{}),this.expanded=this.o.expanded,this.classes=t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{},o)if(s&&(i=i.value),t.is.hash(this.value))for(e in i)i.hasOwnProperty(e)&&(this.value[e]=i[e]);else this.value=i;else this.value=null;u=t.is.boolean(u)?u:!0;t.arr.each(this.cells,function(n){!n.column.internal&&t.is.defined(f.value[n.column.name])&&n.val(f.value[n.column.name],!1,u)});this.created&&u&&(this._setClasses(this.$el),this._setStyle(this.$el),(t.is.boolean(r)?r:!0)&&this.draw())},_setClasses:function(n){var r=!t.is.emptyArray(this.classes),i=null;if(n.removeAttr("class"),r)i=this.classes.join(" ");else return;t.is.emptyString(i)||n.addClass(i)},_setStyle:function(n){var r=!t.is.emptyObject(this.style),i=null;if(n.removeAttr("style"),r)i=this.style;else return;t.is.hash(i)&&n.css(i)},expand:function(){if(this.created){var n=this;n.ft.raise("expand.ft.row",[n]).then(function(){n.__hidden__=t.arr.map(n.cells,function(n){return n.column.hidden&&n.column.visible?n:null});n.__hidden__.length>0&&(n.$details.insertAfter(n.$el).children("td").first().attr("colspan",n.ft.columns.visibleColspan),t.arr.each(n.__hidden__,function(n){n.collapse()}));n.$el.attr("data-expanded",!0);n.$toggle.removeClass("fooicon-plus").addClass("fooicon-minus");n.expanded=!0;n.ft.raise("expanded.ft.row",[n])})}},collapse:function(n){if(this.created){var i=this;i.ft.raise("collapse.ft.row",[i]).then(function(){t.arr.each(i.__hidden__,function(n){n.restore()});i.$details.detach();i.$el.removeAttr("data-expanded");i.$toggle.removeClass("fooicon-minus").addClass("fooicon-plus");(t.is.boolean(n)?n:!0)&&(i.expanded=!1);i.ft.raise("collapsed.ft.row",[i])})}},predraw:function(n){this.created&&(this.expanded&&this.collapse(!1),this.$toggle.detach(),n=t.is.boolean(n)?n:!0,n&&this.$el.detach())},draw:function(n){this.created||this.$create();t.is.jq(n)&&n.append(this.$el);var i=this;t.arr.each(i.cells,function(n){n.$el.css("display",n.column.hidden||!n.column.visible?"none":"table-cell");i.ft.rows.showToggle&&i.ft.columns.hasHidden&&(i.ft.rows.toggleColumn=="first"&&n.column.index==i.ft.columns.firstVisibleIndex||i.ft.rows.toggleColumn=="last"&&n.column.index==i.ft.columns.lastVisibleIndex)&&n.$el.prepend(i.$toggle);n.$el.add(n.column.$el).removeClass("footable-first-visible footable-last-visible");n.column.index==i.ft.columns.firstVisibleIndex&&n.$el.add(n.column.$el).addClass("footable-first-visible");n.column.index==i.ft.columns.lastVisibleIndex&&n.$el.add(n.column.$el).addClass("footable-last-visible")});this.expanded&&this.expand()},toggle:function(){this.created&&this.ft.columns.hasHidden&&(this.expanded?this.collapse():this.expand())},_onToggle:function(t){var i=t.data.self;n(t.target).is(i.ft.rows.toggleSelector)&&i.toggle()}})}(jQuery,FooTable),function(n,t){t.instances=[];t.Table=t.Class.extend({construct:function(i,r,u){this._resizeTimeout=null;this.id=t.instances.push(this);this.initialized=!1;this.$el=(t.is.jq(i)?i:n(i)).first();this.$loader=n("<div/>",{"class":"footable-loader"}).append(n("<span/>",{"class":"fooicon fooicon-loader"}));this.o=n.extend(!0,{},t.defaults,r);this.data=this.$el.data()||{};this.classes=[];this.components=t.components.load(t.is.hash(this.data.components)?this.data.components:this.o.components,this);this.breakpoints=this.use(FooTable.Breakpoints);this.columns=this.use(FooTable.Columns);this.rows=this.use(FooTable.Rows);this._construct(u)},_construct:function(n){var i=this;return this._preinit().then(function(){return i._init().then(function(){return i.raise("ready.ft.table").then(function(){t.is.fn(n)&&n.call(i,i)})})}).always(function(n){i.$el.show();t.is.error(n)&&console.error("FooTable: unhandled error thrown during initialization.",n)})},_preinit:function(){var n=this;return this.raise("preinit.ft.table",[n.data]).then(function(){var r=(n.$el.attr("class")||"").match(/\S+/g)||[],i,u;for(n.o.ajax=t.checkFnValue(n,n.data.ajax,n.o.ajax),n.o.stopPropagation=t.is.boolean(n.data.stopPropagation)?n.data.stopPropagation:n.o.stopPropagation,i=0,u=r.length;i<u;i++)t.str.startsWith(r[i],"footable")||n.classes.push(r[i]);return n.$el.hide().after(n.$loader),n.execute(!1,!1,"preinit",n.data)})},_init:function(){var i=this;return i.raise("init.ft.table").then(function(){var r=i.$el.children("thead"),f=i.$el.children("tbody"),u=i.$el.children("tfoot");if(i.$el.addClass("footable footable-"+i.id),t.is.hash(i.o.on))i.$el.on(i.o.on);return u.length==0&&i.$el.append(u=n("<tfoot/>")),f.length==0&&i.$el.append("<tbody/>"),r.length==0&&i.$el.prepend(r=n("<thead/>")),i.execute(!1,!0,"init").then(function(){return i.$el.data("__FooTable__",i),u.children("tr").length==0&&u.remove(),r.children("tr").length==0&&r.remove(),i.raise("postinit.ft.table").then(function(){return i.draw()}).always(function(){n(window).off("resize.ft"+i.id,i._onWindowResize).on("resize.ft"+i.id,{self:i},i._onWindowResize);i.initialized=!0})})})},destroy:function(){var i=this;return i.raise("destroy.ft.table").then(function(){return i.execute(!0,!0,"destroy").then(function(){i.$el.removeData("__FooTable__").removeClass("footable-"+i.id);t.is.hash(i.o.on)&&i.$el.off(i.o.on);n(window).off("resize.ft"+i.id,i._onWindowResize);i.initialized=!1;t.instances[i.id]=null})}).fail(function(n){t.is.error(n)&&console.error("FooTable: unhandled error thrown while destroying the plugin.",n)})},raise:function(i,r){var u=this,f=t.__debug__&&(t.is.emptyArray(t.__debug_options__.events)||t.arr.any(t.__debug_options__.events,function(n){return t.str.contains(i,n)}));return r=r||[],r.unshift(this),n.Deferred(function(t){var e=n.Event(i);if(u.o.stopPropagation==!0)u.$el.one(i,function(n){n.stopPropagation()});f&&console.log("FooTable:"+i+": ",r);u.$el.trigger(e,r);e.isDefaultPrevented()?(f&&console.log('FooTable: default prevented for the "'+i+'" event.'),t.reject(e)):t.resolve(e)})},use:function(n){for(var t=0,i=this.components.length;t<i;t++)if(this.components[t]instanceof n)return this.components[t];return null},draw:function(){var n=this,i=n.$el.clone().insertBefore(n.$el);return n.$el.detach(),n.execute(!1,!0,"predraw").then(function(){return n.raise("predraw.ft.table").then(function(){return n.execute(!1,!0,"draw").then(function(){return n.raise("draw.ft.table").then(function(){return n.execute(!1,!0,"postdraw").then(function(){return n.raise("postdraw.ft.table")})})})})}).fail(function(n){t.is.error(n)&&console.error("FooTable: unhandled error thrown during a draw operation.",n)}).always(function(){i.replaceWith(n.$el);n.$loader.remove()})},execute:function(n,i){var r=this,u=Array.prototype.slice.call(arguments),f;return n=u.shift(),i=u.shift(),f=i?t.arr.get(r.components,function(n){return n.enabled}):r.components.slice(0),u.unshift(n?f.reverse():f),r._execute.apply(r,u)},_execute:function(i,r){if(!i||!i.length)return n.when();var f=this,u=Array.prototype.slice.call(arguments),e;return(i=u.shift(),r=u.shift(),e=i.shift(),!t.is.fn(e[r]))?f._execute.apply(f,[i,r].concat(u)):n.Deferred(function(n){try{var i=e[r].apply(e,u);if(t.is.promise(i))return i.then(n.resolve,n.reject);n.resolve(i)}catch(f){n.reject(f)}}).then(function(){return f._execute.apply(f,[i,r].concat(u))})},_onWindowResize:function(n){var t=n.data.self;t._resizeTimeout!=null&&clearTimeout(t._resizeTimeout);t._resizeTimeout=setTimeout(function(){t._resizeTimeout=null;t.raise("resize.ft.table").then(function(){t.breakpoints.check()})},300)}})}(jQuery,FooTable),function(n,t){t.ArrayColumn=t.Column.extend({construct:function(n,t){this._super(n,t,"array")},parser:function(i){if(t.is.element(i)||t.is.jq(i)){var u=n(i),r=u.data("value");if(t.is.array(r))return r;r=u.html();try{r=JSON.parse(r)}catch(f){r=null}return t.is.array(r)?r:null}return t.is.array(i)?i:null},formatter:function(n){return t.is.array(n)?JSON.stringify(n):""}});t.columns.register("array",t.ArrayColumn)}(jQuery,FooTable),function(n,t){t.is.undef(window.moment)||(t.DateColumn=t.Column.extend({construct:function(n,i){this._super(n,i,"date");this.formatString=t.is.string(i.formatString)?i.formatString:"MM-DD-YYYY"},parser:function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("value");i=t.is.defined(r)?r:n(i).text();t.is.string(i)&&(i=isNaN(i)?i:+i)}if(t.is.date(i))return moment(i);if(t.is.object(i)&&t.is.boolean(i._isAMomentObject))return i;if(t.is.string(i)){if(isNaN(i))return moment(i,this.formatString);i=+i}return t.is.number(i)?moment(i):null},formatter:function(n){return t.is.object(n)&&t.is.boolean(n._isAMomentObject)&&n.isValid()?n.format(this.formatString):""},filterValue:function(i){if((t.is.element(i)||t.is.jq(i))&&(i=n(i).data("filterValue")||n(i).text()),t.is.hash(i)&&t.is.hash(i.options)&&(t.is.string(i.options.filterValue)&&(i=i.options.filterValue),t.is.defined(i.value)&&(i=i.value)),t.is.object(i)&&t.is.boolean(i._isAMomentObject))return i.format(this.formatString);if(t.is.string(i)){if(isNaN(i))return i;i=+i}return t.is.number(i)||t.is.date(i)?moment(i).format(this.formatString):t.is.defined(i)&&i!=null?i+"":""}}),t.columns.register("date",t.DateColumn))}(jQuery,FooTable),function(n,t){t.HTMLColumn=t.Column.extend({construct:function(n,t){this._super(n,t,"html")},parser:function(i){var r,u;return(t.is.string(i)&&(i=n(n.trim(i))),t.is.element(i)&&(i=n(i)),t.is.jq(i))?(r=i.prop("tagName").toLowerCase(),r=="td"||r=="th")?(u=i.data("value"),t.is.defined(u)?u:i.contents()):i:null}});t.columns.register("html",t.HTMLColumn)}(jQuery,FooTable),function(n,t){t.NumberColumn=t.Column.extend({construct:function(n,i){this._super(n,i,"number");this.decimalSeparator=t.is.string(i.decimalSeparator)?i.decimalSeparator:".";this.thousandSeparator=t.is.string(i.thousandSeparator)?i.thousandSeparator:",";this.decimalSeparatorRegex=new RegExp(t.str.escapeRegExp(this.decimalSeparator),"g");this.thousandSeparatorRegex=new RegExp(t.str.escapeRegExp(this.thousandSeparator),"g");this.cleanRegex=new RegExp("[^-0-9"+t.str.escapeRegExp(this.decimalSeparator)+"]","g")},parser:function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("value");i=t.is.defined(r)?r:n(i).text().replace(this.cleanRegex,"")}return(t.is.string(i)&&(i=i.replace(this.thousandSeparatorRegex,"").replace(this.decimalSeparatorRegex,"."),i=parseFloat(i)),t.is.number(i))?i:null},formatter:function(n){if(n==null)return"";var t=(n+"").split(".");return t.length==2&&t[0].length>3&&(t[0]=t[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,this.thousandSeparator)),t.join(this.decimalSeparator)}});t.columns.register("number",t.NumberColumn)}(jQuery,FooTable),function(n,t){t.ObjectColumn=t.Column.extend({construct:function(n,t){this._super(n,t,"object")},parser:function(i){if(t.is.element(i)||t.is.jq(i)){var u=n(i),r=u.data("value");if(t.is.object(r))return r;r=u.html();try{r=JSON.parse(r)}catch(f){r=null}return t.is.object(r)?r:null}return t.is.object(i)?i:null},formatter:function(n){return t.is.object(n)?JSON.stringify(n):""}});t.columns.register("object",t.ObjectColumn)}(jQuery,FooTable),function(n,t){t.Breakpoint=t.Class.extend({construct:function(n,t){this.name=n;this.width=t}})}(jQuery,FooTable),function(n,t){t.Breakpoints=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.current=null;this.array=[];this.cascade=this.o.cascade;this.useParentWidth=this.o.useParentWidth;this.hidden=null;this._classNames="";this.getWidth=t.checkFnValue(this,this.o.getWidth,this.getWidth)},preinit:function(n){var i=this;return this.ft.raise("preinit.ft.breakpoints",[n]).then(function(){i.cascade=t.is.boolean(n.cascade)?n.cascade:i.cascade;i.o.breakpoints=t.is.hash(n.breakpoints)?n.breakpoints:i.o.breakpoints;i.getWidth=t.checkFnValue(i,n.getWidth,i.getWidth);i.o.breakpoints==null&&(i.o.breakpoints={xs:480,sm:768,md:992,lg:1200});for(var r in i.o.breakpoints)i.o.breakpoints.hasOwnProperty(r)&&(i.array.push(new t.Breakpoint(r,i.o.breakpoints[r])),i._classNames+="breakpoint-"+r+" ");i.array.sort(function(n,t){return t.width-n.width})})},init:function(){var n=this;return this.ft.raise("init.ft.breakpoints").then(function(){n.current=n.get()})},draw:function(){this.ft.$el.removeClass(this._classNames).addClass("breakpoint-"+this.current.name)},calculate:function(){for(var r=this,n=null,f=[],i,e=null,o=r.getWidth(),u=0,s=r.array.length;u<s;u++)i=r.array[u],(!n&&u==s-1||o>=i.width&&(e instanceof t.Breakpoint?o<e.width:!0))&&(n=i),n||f.push(i.name),e=i;return f.push(n.name),r.hidden=f.join(" "),n},visible:function(n){if(t.is.emptyString(n))return!0;if(n==="all")return!1;for(var r=n.split(" "),i=0,u=r.length;i<u;i++)if(this.cascade?t.str.containsWord(this.hidden,r[i]):r[i]==this.current.name)return!1;return!0},check:function(){var n=this,i=n.get();i instanceof t.Breakpoint&&i!=n.current&&n.ft.raise("before.ft.breakpoints",[n.current,i]).then(function(){var t=n.current;return n.current=i,n.ft.draw().then(function(){n.ft.raise("after.ft.breakpoints",[n.current,t])})})},get:function(n){return t.is.undef(n)?this.calculate():n instanceof t.Breakpoint?n:t.is.string(n)?t.arr.first(this.array,function(t){return t.name==n}):t.is.number(n)?n>=0&&n<this.array.length?this.array[n]:null:null},getWidth:function(){return t.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):this.useParentWidth==!0?this.getParentWidth():this.getViewportWidth()},getParentWidth:function(){return this.ft.$el.parent().width()},getViewportWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth,0)}});t.components.register("breakpoints",t.Breakpoints,1e3)}(jQuery,FooTable),function(n){n.Column.prototype.breakpoints=null;n.Column.prototype.__breakpoints_define__=function(t){this.breakpoints=n.is.emptyString(t.breakpoints)?null:t.breakpoints};n.Column.extend("define",function(n){this._super(n);this.__breakpoints_define__(n)})}(FooTable),function(n){n.Defaults.prototype.breakpoints=null;n.Defaults.prototype.cascade=!1;n.Defaults.prototype.useParentWidth=!1;n.Defaults.prototype.getWidth=null}(FooTable),function(n,t){t.Columns=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.array=[];this.$header=null;this.showHeader=n.o.showHeader;this._fromHTML=t.is.emptyArray(n.o.columns)&&!t.is.promise(n.o.columns)},parse:function(){var i=this;return n.Deferred(function(r){function h(i,r){var e=[],u,f,o,s;if(i.length==0||r.length==0)e=i.concat(r);else for(u=0,t.arr.each(i.concat(r),function(n){n.index>u&&(u=n.index)}),u++,f=0;f<u;f++)o={},t.arr.each(i,function(n){if(n.index==f)return o=n,!1}),s={},t.arr.each(r,function(n){if(n.index==f)return s=n,!1}),e.push(n.extend(!0,{},o,s));return e}var f=[],o=[],u=i.ft.$el.find("tr.footable-header, thead > tr:last:has([data-breakpoints]), tbody > tr:first:has([data-breakpoints]), thead > tr:last, tbody > tr:first").first(),c,e,s;u.length>0&&(s=u.parent().is("tbody")&&u.children().length==u.children("td").length,s||(i.$header=u.addClass("footable-header")),u.children("td,th").each(function(t,i){c=n(i);e=c.data();e.index=t;e.$el=c;e.virtual=s;o.push(e)}),s&&(i.showHeader=!1));t.is.array(i.o.columns)&&!t.is.emptyArray(i.o.columns)?(t.arr.each(i.o.columns,function(n,t){n.index=t;f.push(n)}),i.parseFinalize(r,h(f,o))):t.is.promise(i.o.columns)?i.o.columns.then(function(n){t.arr.each(n,function(n,t){n.index=t;f.push(n)});i.parseFinalize(r,h(f,o))},function(n){r.reject(Error("Columns ajax request error: "+n.status+" ("+n.statusText+")"))}):i.parseFinalize(r,h(f,o))})},parseFinalize:function(n,i){var u=this,r=[],f;t.arr.each(i,function(n){(f=t.columns.contains(n.type)?t.columns.make(n.type,u.ft,n):new t.Column(u.ft,n))&&r.push(f)});t.is.emptyArray(r)?n.reject(Error("No columns supplied.")):(r.sort(function(n,t){return n.index-t.index}),n.resolve(r))},preinit:function(n){var i=this;return i.ft.raise("preinit.ft.columns",[n]).then(function(){return i.parse(n).then(function(r){i.array=r;i.showHeader=t.is.boolean(n.showHeader)?n.showHeader:i.showHeader})})},init:function(){var n=this;return this.ft.raise("init.ft.columns",[n.array]).then(function(){n.$create()})},destroy:function(){var n=this;this.ft.raise("destroy.ft.columns").then(function(){n._fromHTML||n.$header.remove()})},predraw:function(){var n=this,i=!0;n.visibleColspan=0;n.firstVisibleIndex=0;n.lastVisibleIndex=0;n.hasHidden=!1;t.arr.each(n.array,function(t){t.hidden=!n.ft.breakpoints.visible(t.breakpoints);!t.hidden&&t.visible&&(i&&(n.firstVisibleIndex=t.index,i=!1),n.lastVisibleIndex=t.index,n.visibleColspan++);t.hidden&&(n.hasHidden=!0)});n.ft.$el.toggleClass("breakpoint",n.hasHidden)},draw:function(){t.arr.each(this.array,function(n){n.$el.css("display",n.hidden||!n.visible?"none":"table-cell")});!this.showHeader&&t.is.jq(this.$header.parent())&&this.$header.detach()},$create:function(){var i=this;i.$header=t.is.jq(i.$header)?i.$header:n("<tr/>",{"class":"footable-header"});i.$header.children("th,td").detach();t.arr.each(i.array,function(n){i.$header.append(n.$el)});i.showHeader&&!t.is.jq(i.$header.parent())&&i.ft.$el.children("thead").append(i.$header)},get:function(n){return n instanceof t.Column?n:t.is.string(n)?t.arr.first(this.array,function(t){return t.name==n}):t.is.number(n)?t.arr.first(this.array,function(t){return t.index==n}):t.is.fn(n)?t.arr.get(this.array,n):null},ensure:function(n){var r=this,i=[];return t.is.array(n)?(t.arr.each(n,function(n){i.push(r.get(n))}),i):i}});t.components.register("columns",t.Columns,900)}(jQuery,FooTable),function(n){n.Defaults.prototype.columns=[];n.Defaults.prototype.showHeader=!0}(FooTable),function(n,t){t.Rows=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.array=[];this.all=[];this.showToggle=n.o.showToggle;this.toggleSelector=n.o.toggleSelector;this.toggleColumn=n.o.toggleColumn;this.emptyString=n.o.empty;this.expandFirst=n.o.expandFirst;this.expandAll=n.o.expandAll;this.$empty=null;this._fromHTML=t.is.emptyArray(n.o.rows)&&!t.is.promise(n.o.rows)},parse:function(){var i=this;return n.Deferred(function(n){var r=i.ft.$el.children("tbody").children("tr");t.is.array(i.o.rows)&&i.o.rows.length>0?i.parseFinalize(n,i.o.rows):t.is.promise(i.o.rows)?i.o.rows.then(function(t){i.parseFinalize(n,t)},function(t){n.reject(Error("Rows ajax request error: "+t.status+" ("+t.statusText+")"))}):t.is.jq(r)?(i.parseFinalize(n,r),r.detach()):i.parseFinalize(n,[])})},parseFinalize:function(i,r){var u=this,f=n.map(r,function(n){return new t.Row(u.ft,u.ft.columns.array,n)});i.resolve(f)},preinit:function(n){var i=this;return i.ft.raise("preinit.ft.rows",[n]).then(function(){return i.parse().then(function(r){i.all=r;i.array=i.all.slice(0);i.showToggle=t.is.boolean(n.showToggle)?n.showToggle:i.showToggle;i.toggleSelector=t.is.string(n.toggleSelector)?n.toggleSelector:i.toggleSelector;i.toggleColumn=t.is.string(n.toggleColumn)?n.toggleColumn:i.toggleColumn;i.toggleColumn!="first"&&i.toggleColumn!="last"&&(i.toggleColumn="first");i.emptyString=t.is.string(n.empty)?n.empty:i.emptyString;i.expandFirst=t.is.boolean(n.expandFirst)?n.expandFirst:i.expandFirst;i.expandAll=t.is.boolean(n.expandAll)?n.expandAll:i.expandAll})})},init:function(){var n=this;return n.ft.raise("init.ft.rows",[n.all]).then(function(){n.$create()})},destroy:function(){var n=this;this.ft.raise("destroy.ft.rows").then(function(){t.arr.each(n.array,function(t){t.predraw(!n._fromHTML)});n.all=n.array=[]})},predraw:function(){t.arr.each(this.array,function(n){n.predraw()});this.array=this.all.slice(0)},$create:function(){this.$empty=n("<tr/>",{"class":"footable-empty"}).append(n("<td/>").text(this.emptyString))},draw:function(){var n=this,i=n.ft.$el.children("tbody"),r=!0;n.array.length>0?(n.$empty.detach(),t.arr.each(n.array,function(t){(n.expandFirst&&r||n.expandAll)&&(t.expanded=!0,r=!1);t.draw(i)})):(n.$empty.children("td").attr("colspan",n.ft.columns.visibleColspan),i.append(n.$empty))},load:function(i,r){var u=this,f=n.map(i,function(n){return new t.Row(u.ft,u.ft.columns.array,n)});t.arr.each(this.array,function(n){n.predraw()});this.all=(t.is.boolean(r)?r:!1)?this.all.concat(f):f;this.array=this.all.slice(0);this.ft.draw()},expand:function(){t.arr.each(this.array,function(n){n.expand()})},collapse:function(){t.arr.each(this.array,function(n){n.collapse()})}});t.components.register("rows",t.Rows,800)}(jQuery,FooTable),function(n){n.Defaults.prototype.rows=[];n.Defaults.prototype.empty="No results";n.Defaults.prototype.showToggle=!0;n.Defaults.prototype.toggleSelector="tr,td,.footable-toggle";n.Defaults.prototype.toggleColumn="first";n.Defaults.prototype.expandFirst=!1;n.Defaults.prototype.expandAll=!1}(FooTable),function(n){n.Table.prototype.loadRows=function(n,t){this.rows.load(n,t)}}(FooTable),function(n){n.Filter=n.Class.extend({construct:function(t,i,r,u,f,e,o){this.name=t;this.space=n.is.string(u)&&(u=="OR"||u=="AND")?u:"AND";this.connectors=n.is.boolean(f)?f:!0;this.ignoreCase=n.is.boolean(e)?e:!0;this.hidden=n.is.boolean(o)?o:!1;this.query=i instanceof n.Query?i:new n.Query(i,this.space,this.connectors,this.ignoreCase);this.columns=r},match:function(t){return n.is.string(t)?(n.is.string(this.query)&&(this.query=new n.Query(this.query,this.space,this.connectors,this.ignoreCase)),this.query instanceof n.Query?this.query.match(t):!1):!1},matchRow:function(t){var i=this,r=n.arr.map(t.cells,function(t){return n.arr.contains(i.columns,t.column)?t.filterValue:null}).join(" ");return i.match(r)}})}(FooTable),function(n,t){t.Filtering=t.Component.extend({construct:function(n){this._super(n,n.o.filtering.enabled);this.filters=n.o.filtering.filters;this.delay=n.o.filtering.delay;this.min=n.o.filtering.min;this.space=n.o.filtering.space;this.connectors=n.o.filtering.connectors;this.ignoreCase=n.o.filtering.ignoreCase;this.exactMatch=n.o.filtering.exactMatch;this.placeholder=n.o.filtering.placeholder;this.dropdownTitle=n.o.filtering.dropdownTitle;this.position=n.o.filtering.position;this.focus=n.o.filtering.focus;this.container=n.o.filtering.container;this.$container=null;this.$row=null;this.$cell=null;this.$form=null;this.$dropdown=null;this.$input=null;this.$button=null;this._filterTimeout=null;this._exactRegExp=/^"(.*?)"$/},preinit:function(n){var i=this;return i.ft.raise("preinit.ft.filtering").then(function(){(i.ft.$el.hasClass("footable-filtering")&&(i.enabled=!0),i.enabled=t.is.boolean(n.filtering)?n.filtering:i.enabled,i.enabled)&&(i.space=t.is.string(n.filterSpace)?n.filterSpace:i.space,i.min=t.is.number(n.filterMin)?n.filterMin:i.min,i.connectors=t.is.boolean(n.filterConnectors)?n.filterConnectors:i.connectors,i.ignoreCase=t.is.boolean(n.filterIgnoreCase)?n.filterIgnoreCase:i.ignoreCase,i.exactMatch=t.is.boolean(n.filterExactMatch)?n.filterExactMatch:i.exactMatch,i.focus=t.is.boolean(n.filterFocus)?n.filterFocus:i.focus,i.delay=t.is.number(n.filterDelay)?n.filterDelay:i.delay,i.placeholder=t.is.string(n.filterPlaceholder)?n.filterPlaceholder:i.placeholder,i.dropdownTitle=t.is.string(n.filterDropdownTitle)?n.filterDropdownTitle:i.dropdownTitle,i.container=t.is.string(n.filterContainer)?n.filterContainer:i.container,i.filters=t.is.array(n.filterFilters)?i.ensure(n.filterFilters):i.ensure(i.filters),i.ft.$el.hasClass("footable-filtering-left")&&(i.position="left"),i.ft.$el.hasClass("footable-filtering-center")&&(i.position="center"),i.ft.$el.hasClass("footable-filtering-right")&&(i.position="right"),i.position=t.is.string(n.filterPosition)?n.filterPosition:i.position)},function(){i.enabled=!1})},init:function(){var n=this;return n.ft.raise("init.ft.filtering").then(function(){n.$create()},function(){n.enabled=!1})},destroy:function(){var n=this;return n.ft.raise("destroy.ft.filtering").then(function(){n.ft.$el.removeClass("footable-filtering").find("thead > tr.footable-filtering").remove()})},$create:function(){var i=this,u=n("<div/>",{"class":"form-group footable-filtering-search"}).append(n("<label/>",{"class":"sr-only",text:"Search"})),e=n("<div/>",{"class":"input-group"}).appendTo(u),f=n("<div/>",{"class":"input-group-btn"}),o=n("<button/>",{type:"button","class":"btn btn-default dropdown-toggle"}).on("click",{self:i},i._onDropdownToggleClicked).append(n("<span/>",{"class":"caret"})),r;switch(i.position){case"left":r="footable-filtering-left";break;case"center":r="footable-filtering-center";break;default:r="footable-filtering-right"}if(i.ft.$el.addClass("footable-filtering").addClass(r),i.$container=i.container===null?n():n(i.container).first(),i.$container.length?i.$container.addClass("footable-filtering-external").addClass(r):(i.$row=n("<tr/>",{"class":"footable-filtering"}).prependTo(i.ft.$el.children("thead")),i.$cell=n("<th/>").attr("colspan",i.ft.columns.visibleColspan).appendTo(i.$row),i.$container=i.$cell),i.$form=n("<form/>",{"class":"form-inline"}).append(u).appendTo(i.$container),i.$input=n("<input/>",{type:"text","class":"form-control",placeholder:i.placeholder}),i.$button=n("<button/>",{type:"button","class":"btn btn-primary"}).on("click",{self:i},i._onSearchButtonClicked).append(n("<span/>",{"class":"fooicon fooicon-search"})),i.$dropdown=n("<ul/>",{"class":"dropdown-menu dropdown-menu-right"}),t.is.emptyString(i.dropdownTitle)||i.$dropdown.append(n("<li/>",{"class":"dropdown-header",text:i.dropdownTitle})),i.$dropdown.append(t.arr.map(i.ft.columns.array,function(t){return t.filterable?n("<li/>").append(n("<a/>",{"class":"checkbox"}).append(n("<label/>",{html:t.title}).prepend(n("<input/>",{type:"checkbox",checked:!0}).data("__FooTableColumn__",t)))):null})),i.delay>0){i.$input.on("keypress keyup paste",{self:i},i._onSearchInputChanged);i.$dropdown.on("click",'input[type="checkbox"]',{self:i},i._onSearchColumnClicked)}f.append(i.$button,o,i.$dropdown);e.append(i.$input,f)},predraw:function(){if(!t.is.emptyArray(this.filters)){var i=this;i.ft.rows.array=n.grep(i.ft.rows.array,function(n){return n.filtered(i.filters)})}},draw:function(){var i,n;t.is.jq(this.$cell)&&this.$cell.attr("colspan",this.ft.columns.visibleColspan);i=this.find("search");i instanceof t.Filter?(n=i.query.val(),this.exactMatch&&this._exactRegExp.test(n)&&(n=n.replace(this._exactRegExp,"$1")),this.$input.val(n)):this.$input.val(null);this.setButton(!t.arr.any(this.filters,function(n){return!n.hidden}))},addFilter:function(n,i,r,u,f,e,o){var s=this.createFilter(n,i,r,u,f,e,o);s instanceof t.Filter&&(this.removeFilter(s.name),this.filters.push(s))},removeFilter:function(n){t.arr.remove(this.filters,function(t){return t.name==n})},filter:function(n){var t=this;return t.filters=t.ensure(t.filters),t.ft.raise("before.ft.filtering",[t.filters]).then(function(){if(t.filters=t.ensure(t.filters),n)var i=t.$input.prop("selectionStart"),r=t.$input.prop("selectionEnd");return t.ft.draw().then(function(){n&&t.$input.focus().prop({selectionStart:i,selectionEnd:r});t.ft.raise("after.ft.filtering",[t.filters])})})},clear:function(){return this.filters=t.arr.get(this.filters,function(n){return n.hidden}),this.filter(this.focus)},setButton:function(n){n?this.$button.children(".fooicon").removeClass("fooicon-remove").addClass("fooicon-search"):this.$button.children(".fooicon").removeClass("fooicon-search").addClass("fooicon-remove")},find:function(n){return t.arr.first(this.filters,function(t){return t.name==n})},columns:function(){return t.is.jq(this.$dropdown)?this.$dropdown.find("input:checked").map(function(){return n(this).data("__FooTableColumn__")}).get():this.ft.columns.get(function(n){return n.filterable})},ensure:function(n){var i=this,r=[],u=i.columns();return t.is.emptyArray(n)||t.arr.each(n,function(n){n=i._ensure(n,u);n instanceof t.Filter&&r.push(n)}),r},createFilter:function(n,i,r,u,f,e,o){return t.is.string(n)&&(n={name:n,query:i,columns:r,ignoreCase:u,connectors:f,space:e,hidden:o}),this._ensure(n,this.columns())},_ensure:function(n,i){return(t.is.hash(n)||n instanceof t.Filter)&&!t.is.emptyString(n.name)&&(!t.is.emptyString(n.query)||n.query instanceof t.Query)?(n.columns=t.is.emptyArray(n.columns)?i:this.ft.columns.ensure(n.columns),n.ignoreCase=t.is.boolean(n.ignoreCase)?n.ignoreCase:this.ignoreCase,n.connectors=t.is.boolean(n.connectors)?n.connectors:this.connectors,n.hidden=t.is.boolean(n.hidden)?n.hidden:!1,n.space=t.is.string(n.space)&&(n.space==="AND"||n.space==="OR")?n.space:this.space,n.query=t.is.string(n.query)?new t.Query(n.query,n.space,n.connectors,n.ignoreCase):n.query,n instanceof t.Filter?n:new t.Filter(n.name,n.query,n.columns,n.space,n.connectors,n.ignoreCase,n.hidden)):null},_onSearchInputChanged:function(n){var i=n.data.self,r=n.type=="keypress"&&!t.is.emptyString(String.fromCharCode(n.charCode)),u=n.type=="keyup"&&(n.which==8||n.which==46),f=n.type=="paste";(r||u||f)&&(n.which==13&&n.preventDefault(),i._filterTimeout!=null&&clearTimeout(i._filterTimeout),i._filterTimeout=setTimeout(function(){i._filterTimeout=null;var n=i.$input.val();n.length>=i.min?(i.exactMatch&&!i._exactRegExp.test(n)&&(n='"'+n+'"'),i.addFilter("search",n),i.filter(i.focus)):t.is.emptyString(n)&&i.clear()},i.delay))},_onSearchButtonClicked:function(n){var t,r,i;n.preventDefault();t=n.data.self;t._filterTimeout!=null&&clearTimeout(t._filterTimeout);r=t.$button.children(".fooicon");r.hasClass("fooicon-remove")?t.clear():(i=t.$input.val(),i.length>=t.min&&(t.exactMatch&&!t._exactRegExp.test(i)&&(i='"'+i+'"'),t.addFilter("search",i),t.filter(t.focus)))},_onSearchColumnClicked:function(n){var t=n.data.self;t._filterTimeout!=null&&clearTimeout(t._filterTimeout);t._filterTimeout=setTimeout(function(){t._filterTimeout=null;var n=t.$button.children(".fooicon");n.hasClass("fooicon-remove")&&(n.removeClass("fooicon-remove").addClass("fooicon-search"),t.addFilter("search",t.$input.val()),t.filter())},t.delay)},_onDropdownToggleClicked:function(t){t.preventDefault();t.stopPropagation();var i=t.data.self;if(i.$dropdown.parent().toggleClass("open"),i.$dropdown.parent().hasClass("open"))n(document).on("click.footable",{self:i},i._onDocumentClicked);else n(document).off("click.footable",i._onDocumentClicked)},_onDocumentClicked:function(t){if(n(t.target).closest(".dropdown-menu").length==0){t.preventDefault();var i=t.data.self;i.$dropdown.parent().removeClass("open");n(document).off("click.footable",i._onDocumentClicked)}}});t.components.register("filtering",t.Filtering,500)}(jQuery,FooTable),function(n){n.Query=n.Class.extend({construct:function(t,i,r,u){this._original=null;this._value=null;this.space=n.is.string(i)&&(i=="OR"||i=="AND")?i:"AND";this.connectors=n.is.boolean(r)?r:!0;this.ignoreCase=n.is.boolean(u)?u:!0;this.left=null;this.right=null;this.parts=[];this.operator=null;this.val(t)},val:function(t){if(n.is.emptyString(t))return this._value;if(n.is.emptyString(this._original))this._original=t;else if(this._original==t)return;this._value=t;this._parse()},match:function(t){return n.is.emptyString(this.operator)||this.operator==="OR"?this._left(t,!1)||this._match(t,!1)||this._right(t,!1):this.operator==="AND"?this._left(t,!0)&&this._match(t,!0)&&this._right(t,!0):void 0},_match:function(t,i){var u=this,r=!1,f=n.is.emptyString(t);return n.is.emptyArray(u.parts)&&u.left instanceof n.Query?i:n.is.emptyArray(u.parts)?r:(u.space==="OR"?n.arr.each(u.parts,function(i){if(i.empty&&f){if(r=!0,i.negate)return r=!1}else{var e=(i.exact?n.str.containsExact:n.str.contains)(t,i.query,u.ignoreCase);if(e&&!i.negate&&(r=!0),e&&i.negate)return r=!1}}):(r=!0,n.arr.each(u.parts,function(i){if(i.empty)return(!f&&!i.negate||f&&i.negate)&&(r=!1),r;var e=(i.exact?n.str.containsExact:n.str.contains)(t,i.query,u.ignoreCase);return(!e&&!i.negate||e&&i.negate)&&(r=!1),r})),r)},_left:function(t,i){return this.left instanceof n.Query?this.left.match(t):i},_right:function(t,i){return this.right instanceof n.Query?this.right.match(t):i},_parse:function(){var t,i,r;n.is.emptyString(this._value)||(/\sOR\s/.test(this._value)?(this.operator="OR",t=this._value.split(/(?:\sOR\s)(.*)?/),this.left=new n.Query(t[0],this.space,this.connectors,this.ignoreCase),this.right=new n.Query(t[1],this.space,this.connectors,this.ignoreCase)):/\sAND\s/.test(this._value)?(this.operator="AND",i=this._value.split(/(?:\sAND\s)(.*)?/),this.left=new n.Query(i[0],this.space,this.connectors,this.ignoreCase),this.right=new n.Query(i[1],this.space,this.connectors,this.ignoreCase)):(r=this,this.parts=n.arr.map(this._value.match(/(?:[^\s"]+|"[^"]*")+/g),function(n){return r._part(n)})))},_part:function(t){var i={query:t,negate:!1,phrase:!1,exact:!1,empty:!1};return n.str.startsWith(i.query,"-")&&(i.query=n.str.from(i.query,"-"),i.negate=!0),/^"(.*?)"$/.test(i.query)?(i.query=i.query.replace(/^"(.*?)"$/,"$1"),i.phrase=!0,i.exact=!0):this.connectors&&/(?:\w)+?([-_\+\.])(?:\w)+?/.test(i.query)&&(i.query=i.query.replace(/(?:\w)+?([-_\+\.])(?:\w)+?/g,function(n,t){return n.replace(t," ")}),i.phrase=!0),i.empty=i.phrase&&n.is.emptyString(i.query),i}})}(FooTable),function(n){n.Cell.prototype.filterValue=null;n.Cell.prototype.__filtering_define__=function(n){this.filterValue=this.column.filterValue.call(this.column,n)};n.Cell.prototype.__filtering_val__=function(t){n.is.defined(t)&&(this.filterValue=this.column.filterValue.call(this.column,t))};n.Cell.extend("define",function(n){this._super(n);this.__filtering_define__(n)});n.Cell.extend("val",function(n,t,i){var r=this._super(n,t,i);return this.__filtering_val__(n),r})}(FooTable),function(n,t){t.Column.prototype.filterable=!0;t.Column.prototype.filterValue=function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("filterValue");return t.is.defined(r)?""+r:n(i).text()}if(t.is.hash(i)&&t.is.hash(i.options)){if(t.is.string(i.options.filterValue))return i.options.filterValue;t.is.defined(i.value)&&(i=i.value)}return t.is.defined(i)&&i!=null?i+"":""};t.Column.prototype.__filtering_define__=function(n){this.filterable=t.is.boolean(n.filterable)?n.filterable:this.filterable;this.filterValue=t.checkFnValue(this,n.filterValue,this.filterValue)};t.Column.extend("define",function(n){this._super(n);this.__filtering_define__(n)})}(jQuery,FooTable),function(n){n.Defaults.prototype.filtering={enabled:!1,filters:[],delay:1200,min:1,space:"AND",placeholder:"Search",dropdownTitle:null,position:"right",connectors:!0,ignoreCase:!0,exactMatch:!1,focus:!0,container:null}}(FooTable),function(n){n.Row.prototype.filtered=function(t){var i=!0,r=this;return n.arr.each(t,function(n){if((i=n.matchRow(r))==!1)return!1}),i}}(FooTable),function(n,t){t.Sorter=t.Class.extend({construct:function(n,t){this.column=n;this.direction=t}})}(jQuery,FooTable),function(n,t){t.Sorting=t.Component.extend({construct:function(n){this._super(n,n.o.sorting.enabled);this.o=n.o.sorting;this.column=null;this.allowed=!0;this.initial=null},preinit:function(n){var i=this;this.ft.raise("preinit.ft.sorting",[n]).then(function(){(i.ft.$el.hasClass("footable-sorting")&&(i.enabled=!0),i.enabled=t.is.boolean(n.sorting)?n.sorting:i.enabled,i.enabled)&&(i.column=t.arr.first(i.ft.columns.array,function(n){return n.sorted}))},function(){i.enabled=!1})},init:function(){var i=this;this.ft.raise("init.ft.sorting").then(function(){if(!i.initial){var r=!!i.column;i.initial={isset:r,rows:i.ft.rows.all.slice(0),column:r?i.column.name:null,direction:r?i.column.direction:null}}t.arr.each(i.ft.columns.array,function(t){t.sortable&&t.$el.addClass("footable-sortable").append(n("<span/>",{"class":"fooicon fooicon-sort"}))});i.ft.$el.on("click.footable",".footable-sortable",{self:i},i._onSortClicked)},function(){i.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.paging").then(function(){n.ft.$el.off("click.footable",".footable-sortable",n._onSortClicked);n.ft.$el.children("thead").children("tr.footable-header").children(".footable-sortable").removeClass("footable-sortable footable-asc footable-desc").find("span.fooicon").remove()})},predraw:function(){if(this.column){var t=this,n=t.column;t.ft.rows.array.sort(function(t,i){return n.direction=="DESC"?n.sorter(i.cells[n.index].sortValue,t.cells[n.index].sortValue):n.sorter(t.cells[n.index].sortValue,i.cells[n.index].sortValue)})}},draw:function(){if(this.column){var n=this,t=n.ft.$el.find("thead > tr > .footable-sortable"),i=n.column.$el;t.removeClass("footable-asc footable-desc").children(".fooicon").removeClass("fooicon-sort fooicon-sort-asc fooicon-sort-desc");t.not(i).children(".fooicon").addClass("fooicon-sort");i.addClass(n.column.direction=="DESC"?"footable-desc":"footable-asc").children(".fooicon").addClass(n.column.direction=="DESC"?"fooicon-sort-desc":"fooicon-sort-asc")}},sort:function(n,t){return this._sort(n,t)},toggleAllowed:function(n){n=t.is.boolean(n)?n:!this.allowed;this.allowed=n;this.ft.$el.toggleClass("footable-sorting-disabled",!this.allowed)},hasChanged:function(){return!(!this.initial||!this.column||this.column.name===this.initial.column&&(this.column.direction===this.initial.direction||this.initial.direction===null&&this.column.direction==="ASC"))},reset:function(){!this.initial||(this.initial.isset?this.sort(this.initial.column,this.initial.direction):(!this.column||(this.column.$el.removeClass("footable-asc footable-desc"),this.column=null),this.ft.rows.all=this.initial.rows,this.ft.draw()))},_sort:function(i,r){if(!this.allowed)return n.Deferred().reject("sorting disabled");var u=this,f=new t.Sorter(u.ft.columns.get(i),t.Sorting.dir(r));return u.ft.raise("before.ft.sorting",[f]).then(function(){return t.arr.each(u.ft.columns.array,function(n){n!=u.column&&(n.direction=null)}),u.column=u.ft.columns.get(f.column),u.column&&(u.column.direction=t.Sorting.dir(f.direction)),u.ft.draw().then(function(){u.ft.raise("after.ft.sorting",[f])})})},_onSortClicked:function(t){var r=t.data.self,i=n(this).closest("th,td"),u=i.is(".footable-asc, .footable-desc")?i.hasClass("footable-desc")?"ASC":"DESC":"ASC";r._sort(i.index(),u)}});t.Sorting.dir=function(n){return t.is.string(n)&&(n=="ASC"||n=="DESC")?n:"ASC"};t.components.register("sorting",t.Sorting,600)}(jQuery,FooTable),function(n){n.Cell.prototype.sortValue=null;n.Cell.prototype.__sorting_define__=function(n){this.sortValue=this.column.sortValue.call(this.column,n)};n.Cell.prototype.__sorting_val__=function(t){n.is.defined(t)&&(this.sortValue=this.column.sortValue.call(this.column,t))};n.Cell.extend("define",function(n){this._super(n);this.__sorting_define__(n)});n.Cell.extend("val",function(n,t,i){var r=this._super(n,t,i);return this.__sorting_val__(n),r})}(FooTable),function(n,t){t.Column.prototype.direction=null;t.Column.prototype.sortable=!0;t.Column.prototype.sorted=!1;t.Column.prototype.sorter=function(n,t){return(typeof n=="string"&&(n=n.toLowerCase()),typeof t=="string"&&(t=t.toLowerCase()),n===t)?0:n<t?-1:1};t.Column.prototype.sortValue=function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("sortValue");return t.is.defined(r)?r:this.parser(i)}if(t.is.hash(i)&&t.is.hash(i.options)){if(t.is.string(i.options.sortValue))return i.options.sortValue;t.is.defined(i.value)&&(i=i.value)}return t.is.defined(i)&&i!=null?i:null};t.Column.prototype.__sorting_define__=function(n){this.sorter=t.checkFnValue(this,n.sorter,this.sorter);this.direction=t.is.type(n.direction,"string")?t.Sorting.dir(n.direction):null;this.sortable=t.is.boolean(n.sortable)?n.sortable:!0;this.sorted=t.is.boolean(n.sorted)?n.sorted:!1;this.sortValue=t.checkFnValue(this,n.sortValue,this.sortValue)};t.Column.extend("define",function(n){this._super(n);this.__sorting_define__(n)})}(jQuery,FooTable),function(n){n.Defaults.prototype.sorting={enabled:!1}}(FooTable),function(n,t){t.HTMLColumn.extend("__sorting_define__",function(i){this._super(i);this.sortUse=t.is.string(i.sortUse)&&n.inArray(i.sortUse,["html","text"])!==-1?i.sortUse:"html"});t.HTMLColumn.prototype.sortValue=function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("sortValue");return t.is.defined(r)?r:this.parser(i)}if(t.is.hash(i)&&t.is.hash(i.options)){if(t.is.string(i.options.sortValue))return i.options.sortValue;t.is.defined(i.value)&&(i=i.value)}return t.is.defined(i)&&i!=null?i:null}}(jQuery,FooTable),function(n,t){t.NumberColumn.prototype.sortValue=function(i){if(t.is.element(i)||t.is.jq(i)){var r=n(i).data("sortValue");return t.is.number(r)?r:this.parser(i)}if(t.is.hash(i)&&t.is.hash(i.options)){if(t.is.string(i.options.sortValue))return this.parser(i);if(t.is.number(i.options.sortValue))return i.options.sortValue;if(t.is.number(i.value))return i.value}return t.is.string(i)?this.parser(i):t.is.number(i)?i:null}}(jQuery,FooTable),function(n){n.Table.prototype.sort=function(t,i){return this.use(n.Sorting).sort(t,i)}}(FooTable),function(n,t){t.Pager=t.Class.extend({construct:function(n,t,i,r,u){this.total=n;this.current=t;this.size=i;this.page=r;this.forward=u}})}(jQuery,FooTable),function(n,t){t.Paging=t.Component.extend({construct:function(n){this._super(n,n.o.paging.enabled);this.strings=n.o.paging.strings;this.current=n.o.paging.current;this.size=n.o.paging.size;this.limit=n.o.paging.limit;this.position=n.o.paging.position;this.countFormat=n.o.paging.countFormat;this.container=n.o.paging.container;this.total=-1;this.totalRows=0;this.previous=-1;this.formattedCount=null;this.$container=null;this.$wrapper=null;this.$row=null;this.$cell=null;this.$pagination=null;this.$count=null;this.detached=!0;this._createdLinks=0},preinit:function(n){var i=this;this.ft.raise("preinit.ft.paging",[n]).then(function(){(i.ft.$el.hasClass("footable-paging")&&(i.enabled=!0),i.enabled=t.is.boolean(n.paging)?n.paging:i.enabled,i.enabled)&&(i.size=t.is.number(n.pagingSize)?n.pagingSize:i.size,i.current=t.is.number(n.pagingCurrent)?n.pagingCurrent:i.current,i.limit=t.is.number(n.pagingLimit)?n.pagingLimit:i.limit,i.ft.$el.hasClass("footable-paging-left")&&(i.position="left"),i.ft.$el.hasClass("footable-paging-center")&&(i.position="center"),i.ft.$el.hasClass("footable-paging-right")&&(i.position="right"),i.position=t.is.string(n.pagingPosition)?n.pagingPosition:i.position,i.countFormat=t.is.string(n.pagingCountFormat)?n.pagingCountFormat:i.countFormat,i.container=t.is.string(n.pagingContainer)?n.pagingContainer:i.container,i.total=Math.ceil(i.ft.rows.all.length/i.size))},function(){i.enabled=!1})},init:function(){var n=this;this.ft.raise("init.ft.paging").then(function(){n.$create()},function(){n.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.paging").then(function(){n.ft.$el.removeClass("footable-paging").find("tfoot > tr.footable-paging").remove();n.detached=!0;n._createdLinks=0})},predraw:function(){this.total=Math.ceil(this.ft.rows.array.length/this.size);this.current=this.current>this.total?this.total:this.current<1?1:this.current;this.totalRows=this.ft.rows.array.length;this.totalRows>this.size&&(this.ft.rows.array=this.ft.rows.array.splice((this.current-1)*this.size,this.size));this.formattedCount=this.format(this.countFormat)},draw:function(){if(this.total<=1)this.detached||(this.$row?this.$row.detach():this.$wrapper.detach(),this.detached=!0);else{if(this.detached){if(this.$row){var i=this.ft.$el.children("tfoot");i.length==0&&(i=n("<tfoot/>"),this.ft.$el.append(i));this.$row.appendTo(i)}else this.$wrapper.appendTo(this.$container);this.detached=!1}t.is.jq(this.$cell)&&this.$cell.attr("colspan",this.ft.columns.visibleColspan);this._createLinks();this._setVisible(this.current,this.current>this.previous);this._setNavigation(!0);this.$count.text(this.formattedCount)}},$create:function(){var i,r;this._createdLinks=0;i="footable-paging-center";switch(this.position){case"left":i="footable-paging-left";break;case"right":i="footable-paging-right"}this.ft.$el.addClass("footable-paging").addClass(i);this.$container=this.container===null?null:n(this.container).first();t.is.jq(this.$container)?this.$container.addClass("footable-paging-external").addClass(i):(r=this.ft.$el.children("tfoot"),r.length==0&&(r=n("<tfoot/>"),this.ft.$el.append(r)),this.$row=n("<tr/>",{"class":"footable-paging"}).prependTo(r),this.$container=this.$cell=n("<td/>").attr("colspan",this.ft.columns.visibleColspan).appendTo(this.$row));this.$wrapper=n("<div/>",{"class":"footable-pagination-wrapper"}).appendTo(this.$container);this.$pagination=n("<ul/>",{"class":"pagination"}).on("click.footable","a.footable-page-link",{self:this},this._onPageClicked);this.$count=n("<span/>",{"class":"label label-default"});this.$wrapper.append(this.$pagination,n("<div/>",{"class":"divider"}),this.$count);this.detached=!1},format:function(n){var i=this.size*(this.current-1)+1,t=this.size*this.current;return this.ft.rows.array.length==0?(i=0,t=0):t=t>this.totalRows?this.totalRows:t,n.replace(/\{CP}/g,this.current).replace(/\{TP}/g,this.total).replace(/\{PF}/g,i).replace(/\{PL}/g,t).replace(/\{TR}/g,this.totalRows)},first:function(){return this._set(1)},prev:function(){return this._set(this.current-1>0?this.current-1:1)},next:function(){return this._set(this.current+1<this.total?this.current+1:this.total)},last:function(){return this._set(this.total)},goto:function(n){return this._set(n>this.total?this.total:n<1?1:n)},prevPages:function(){var n=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(n,!0);this._setNavigation(!1)},nextPages:function(){var n=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(n,!1);this._setNavigation(!1)},pageSize:function(n){if(n=parseInt(n),isNaN(n))return this.size;this.size=n;this.total=Math.ceil(this.ft.rows.all.length/this.size);t.is.jq(this.$wrapper)&&(this.$container.is("td")?this.$row.remove():this.$wrapper.remove());this.$create();this.ft.draw()},_set:function(i){var r=this,u=new t.Pager(r.total,r.current,r.size,i,i>r.current);return r.ft.raise("before.ft.paging",[u]).then(function(){return(u.page=u.page>u.total?u.total:u.page,u.page=u.page<1?1:u.page,r.current==i)?n.when():(r.previous=r.current,r.current=u.page,r.ft.draw().then(function(){r.ft.raise("after.ft.paging",[u])}))})},_createLinks:function(){var r,f;if(this._createdLinks!==this.total){var t=this,u=t.total>1,i=function(t,i,r){return n("<li/>",{"class":r}).attr("data-page",t).append(n("<a/>",{"class":"footable-page-link",href:"#"}).data("page",t).html(i))};for(t.$pagination.empty(),u&&(t.$pagination.append(i("first",t.strings.first,"footable-page-nav")),t.$pagination.append(i("prev",t.strings.prev,"footable-page-nav")),t.limit>0&&t.limit<t.total&&t.$pagination.append(i("prev-limit",t.strings.prevPages,"footable-page-nav"))),r=0;r<t.total;r++)f=i(r+1,r+1,"footable-page"),t.$pagination.append(f);u&&(t.limit>0&&t.limit<t.total&&t.$pagination.append(i("next-limit",t.strings.nextPages,"footable-page-nav")),t.$pagination.append(i("next",t.strings.next,"footable-page-nav")),t.$pagination.append(i("last",t.strings.last,"footable-page-nav")));t._createdLinks=t.total}},_setNavigation:function(n){this.current==1?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled");this.current==this.total?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled");(this.$pagination.children("li.footable-page.visible:first").data("page")||1)==1?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled");(this.$pagination.children("li.footable-page.visible:last").data("page")||this.limit)==this.total?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled");this.limit>0&&this.total<this.limit?this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').css("display","none"):this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').css("display","");n&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.current+'"]').addClass("active")},_setVisible:function(n,t){if(this.limit>0&&this.total>this.limit){if(!this.$pagination.children('li.footable-page[data-page="'+n+'"]').hasClass("visible")){var i=0,r=0;t==!0?(r=n>this.total?this.total:n,i=r-this.limit):(i=n<1?0:n-1,r=i+this.limit);i<0&&(i=0,r=this.limit>this.total?this.total:this.limit);r>this.total&&(r=this.total,i=this.total-this.limit<0?0:this.total-this.limit);this.$pagination.children("li.footable-page").removeClass("visible").slice(i,r).addClass("visible")}}else this.$pagination.children("li.footable-page").removeClass("visible").slice(0,this.total).addClass("visible")},_onPageClicked:function(t){if(t.preventDefault(),!n(t.target).closest("li").is(".active,.disabled")){var i=t.data.self,r=n(this).data("page");switch(r){case"first":i.first();return;case"prev":i.prev();return;case"next":i.next();return;case"last":i.last();return;case"prev-limit":i.prevPages();return;case"next-limit":i.nextPages();return;default:i._set(r);return}}}});t.components.register("paging",t.Paging,400)}(jQuery,FooTable),function(n){n.Defaults.prototype.paging={enabled:!1,countFormat:"{CP} of {TP}",current:1,limit:5,position:"center",size:10,container:null,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevPages:"...",nextPages:"..."}}}(FooTable),function(n){n.Table.prototype.gotoPage=function(t){return this.use(n.Paging).goto(t)};n.Table.prototype.nextPage=function(){return this.use(n.Paging).next()};n.Table.prototype.prevPage=function(){return this.use(n.Paging).prev()};n.Table.prototype.firstPage=function(){return this.use(n.Paging).first()};n.Table.prototype.lastPage=function(){return this.use(n.Paging).last()};n.Table.prototype.nextPages=function(){return this.use(n.Paging).nextPages()};n.Table.prototype.prevPages=function(){return this.use(n.Paging).prevPages()};n.Table.prototype.pageSize=function(t){return this.use(n.Paging).pageSize(t)}}(FooTable),function(n,t){t.Editing=t.Component.extend({construct:function(i){this._super(i,i.o.editing.enabled);this.pageToNew=i.o.editing.pageToNew;this.alwaysShow=i.o.editing.alwaysShow;this.column=n.extend(!0,{},i.o.editing.column,{visible:this.alwaysShow});this.position=i.o.editing.position;this.showText=i.o.editing.showText;this.hideText=i.o.editing.hideText;this.addText=i.o.editing.addText;this.editText=i.o.editing.editText;this.deleteText=i.o.editing.deleteText;this.viewText=i.o.editing.viewText;this.allowAdd=i.o.editing.allowAdd;this.allowEdit=i.o.editing.allowEdit;this.allowDelete=i.o.editing.allowDelete;this.allowView=i.o.editing.allowView;this._$buttons=null;this.callbacks={addRow:t.checkFnValue(this,i.o.editing.addRow),editRow:t.checkFnValue(this,i.o.editing.editRow),deleteRow:t.checkFnValue(this,i.o.editing.deleteRow),viewRow:t.checkFnValue(this,i.o.editing.viewRow)}},preinit:function(i){var r=this;this.ft.raise("preinit.ft.editing",[i]).then(function(){if(r.ft.$el.hasClass("footable-editing")&&(r.enabled=!0),r.enabled=t.is.boolean(i.editing)?i.editing:r.enabled,r.enabled){if(r.pageToNew=t.is.boolean(i.editingPageToNew)?i.editingPageToNew:r.pageToNew,r.alwaysShow=t.is.boolean(i.editingAlwaysShow)?i.editingAlwaysShow:r.alwaysShow,r.position=t.is.string(i.editingPosition)?i.editingPosition:r.position,r.showText=t.is.string(i.editingShowText)?i.editingShowText:r.showText,r.hideText=t.is.string(i.editingHideText)?i.editingHideText:r.hideText,r.addText=t.is.string(i.editingAddText)?i.editingAddText:r.addText,r.editText=t.is.string(i.editingEditText)?i.editingEditText:r.editText,r.deleteText=t.is.string(i.editingDeleteText)?i.editingDeleteText:r.deleteText,r.viewText=t.is.string(i.editingViewText)?i.editingViewText:r.viewText,r.allowAdd=t.is.boolean(i.editingAllowAdd)?i.editingAllowAdd:r.allowAdd,r.allowEdit=t.is.boolean(i.editingAllowEdit)?i.editingAllowEdit:r.allowEdit,r.allowDelete=t.is.boolean(i.editingAllowDelete)?i.editingAllowDelete:r.allowDelete,r.allowView=t.is.boolean(i.editingAllowView)?i.editingAllowView:r.allowView,r.column=new t.EditingColumn(r.ft,r,n.extend(!0,{},r.column,i.editingColumn,{visible:r.alwaysShow})),r.ft.$el.hasClass("footable-editing-left")&&(r.position="left"),r.ft.$el.hasClass("footable-editing-right")&&(r.position="right"),r.position==="right")r.column.index=r.ft.columns.array.length;else{r.column.index=0;for(var u=0,f=r.ft.columns.array.length;u<f;u++)r.ft.columns.array[u].index+=1}r.ft.columns.array.push(r.column);r.ft.columns.array.sort(function(n,t){return n.index-t.index});r.callbacks.addRow=t.checkFnValue(r,i.editingAddRow,r.callbacks.addRow);r.callbacks.editRow=t.checkFnValue(r,i.editingEditRow,r.callbacks.editRow);r.callbacks.deleteRow=t.checkFnValue(r,i.editingDeleteRow,r.callbacks.deleteRow);r.callbacks.viewRow=t.checkFnValue(r,i.editingViewRow,r.callbacks.viewRow)}},function(){r.enabled=!1})},init:function(){var n=this;this.ft.raise("init.ft.editing").then(function(){n.$create()},function(){n.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.editing").then(function(){n.ft.$el.removeClass("footable-editing footable-editing-always-show footable-editing-no-add footable-editing-no-edit footable-editing-no-delete footable-editing-no-view").off("click.ft.editing").find("tfoot > tr.footable-editing").remove()})},$create:function(){var t=this,r=t.position==="right"?"footable-editing-right":"footable-editing-left",i;t.ft.$el.addClass("footable-editing").addClass(r).on("click.ft.editing",".footable-show",{self:t},t._onShowClick).on("click.ft.editing",".footable-hide",{self:t},t._onHideClick).on("click.ft.editing",".footable-edit",{self:t},t._onEditClick).on("click.ft.editing",".footable-delete",{self:t},t._onDeleteClick).on("click.ft.editing",".footable-view",{self:t},t._onViewClick).on("click.ft.editing",".footable-add",{self:t},t._onAddClick);t.$cell=n("<td/>").attr("colspan",t.ft.columns.visibleColspan).append(t.$buttonShow());t.allowAdd&&t.$cell.append(t.$buttonAdd());t.$cell.append(t.$buttonHide());t.alwaysShow&&t.ft.$el.addClass("footable-editing-always-show");t.allowAdd||t.ft.$el.addClass("footable-editing-no-add");t.allowEdit||t.ft.$el.addClass("footable-editing-no-edit");t.allowDelete||t.ft.$el.addClass("footable-editing-no-delete");t.allowView||t.ft.$el.addClass("footable-editing-no-view");i=t.ft.$el.children("tfoot");i.length==0&&(i=n("<tfoot/>"),t.ft.$el.append(i));t.$row=n("<tr/>",{"class":"footable-editing"}).append(t.$cell).appendTo(i)},$buttonShow:function(){return'<button type="button" class="btn btn-primary footable-show">'+this.showText+"<\/button>"},$buttonHide:function(){return'<button type="button" class="btn btn-default footable-hide">'+this.hideText+"<\/button>"},$buttonAdd:function(){return'<button type="button" class="btn btn-primary footable-add">'+this.addText+"<\/button> "},$buttonEdit:function(){return'<button type="button" class="btn btn-default footable-edit">'+this.editText+"<\/button> "},$buttonDelete:function(){return'<button type="button" class="btn btn-default footable-delete">'+this.deleteText+"<\/button>"},$buttonView:function(){return'<button type="button" class="btn btn-default footable-view">'+this.viewText+"<\/button> "},$rowButtons:function(){return t.is.jq(this._$buttons)?this._$buttons.clone():(this._$buttons=n('<div class="btn-group btn-group-xs" role="group"><\/div>'),this.allowView&&this._$buttons.append(this.$buttonView()),this.allowEdit&&this._$buttons.append(this.$buttonEdit()),this.allowDelete&&this._$buttons.append(this.$buttonDelete()),this._$buttons)},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan)},_onEditClick:function(i){i.preventDefault();var r=i.data.self,u=n(this).closest("tr").data("__FooTableRow__");u instanceof t.Row&&r.ft.raise("edit.ft.editing",[u]).then(function(){r.callbacks.editRow.call(r.ft,u)})},_onDeleteClick:function(i){i.preventDefault();var r=i.data.self,u=n(this).closest("tr").data("__FooTableRow__");u instanceof t.Row&&r.ft.raise("delete.ft.editing",[u]).then(function(){r.callbacks.deleteRow.call(r.ft,u)})},_onViewClick:function(i){i.preventDefault();var r=i.data.self,u=n(this).closest("tr").data("__FooTableRow__");u instanceof t.Row&&r.ft.raise("view.ft.editing",[u]).then(function(){r.callbacks.viewRow.call(r.ft,u)})},_onAddClick:function(n){n.preventDefault();var t=n.data.self;t.ft.raise("add.ft.editing").then(function(){t.callbacks.addRow.call(t.ft)})},_onShowClick:function(n){n.preventDefault();var t=n.data.self;t.ft.raise("show.ft.editing").then(function(){t.ft.$el.addClass("footable-editing-show");t.column.visible=!0;t.ft.draw()})},_onHideClick:function(n){n.preventDefault();var t=n.data.self;t.ft.raise("hide.ft.editing").then(function(){t.ft.$el.removeClass("footable-editing-show");t.column.visible=!1;t.ft.draw()})}});t.components.register("editing",t.Editing,850)}(jQuery,FooTable),function(n,t){t.EditingColumn=t.Column.extend({construct:function(n,t,i){this._super(n,i,"editing");this.editing=t;this.internal=!0},$create:function(){(this.$el=!this.virtual&&t.is.jq(this.$el)?this.$el:n("<th/>",{"class":"footable-editing"})).html(this.title)},parser:function(i){if(t.is.string(i)&&(i=n(n.trim(i))),t.is.element(i)&&(i=n(i)),t.is.jq(i)){var r=i.prop("tagName").toLowerCase();return r=="td"||r=="th"?i.data("value")||i.contents():i}return null},createCell:function(i){var u=this.editing.$rowButtons(),r=n("<td/>").append(u);return t.is.jq(i.$el)&&(this.index===0?r.prependTo(i.$el):r.insertAfter(i.$el.children().eq(this.index-1))),new t.Cell(this.ft,i,this,r||r.html())}});t.columns.register("editing",t.EditingColumn)}(jQuery,FooTable),function(n,t){t.Defaults.prototype.editing={enabled:!1,pageToNew:!0,position:"right",alwaysShow:!1,addRow:function(){},editRow:function(){},deleteRow:function(){},viewRow:function(){},showText:'<span class="fooicon fooicon-pencil" aria-hidden="true"><\/span> Edit rows',hideText:"Cancel",addText:"New row",editText:'<span class="fooicon fooicon-pencil" aria-hidden="true"><\/span>',deleteText:'<span class="fooicon fooicon-trash" aria-hidden="true"><\/span>',viewText:'<span class="fooicon fooicon-stats" aria-hidden="true"><\/span>',allowAdd:!0,allowEdit:!0,allowDelete:!0,allowView:!1,column:{classes:"footable-editing",name:"editing",title:"",filterable:!1,sortable:!1}}}(jQuery,FooTable),function(n,t){t.is.defined(t.Paging)&&(t.Paging.prototype.unpaged=[],t.Paging.extend("predraw",function(){this.unpaged=this.ft.rows.array.slice(0);this._super()}))}(jQuery,FooTable),function(n,t){t.Row.prototype.add=function(i){i=t.is.boolean(i)?i:!0;var r=this;return n.Deferred(function(n){var t=r.ft.rows.all.push(r)-1;if(i)return r.ft.draw().then(function(){n.resolve(t)});n.resolve(t)})};t.Row.prototype.delete=function(i){i=t.is.boolean(i)?i:!0;var r=this;return n.Deferred(function(n){var u=r.ft.rows.all.indexOf(r);if(t.is.number(u)&&u>=0&&u<r.ft.rows.all.length&&(r.ft.rows.all.splice(u,1),i))return r.ft.draw().then(function(){n.resolve(r)});n.resolve(r)})};t.is.defined(t.Paging)&&t.Row.extend("add",function(n){n=t.is.boolean(n)?n:!0;var r=this,u=this._super(n),f=r.ft.use(t.Editing),i;return f&&f.pageToNew&&(i=r.ft.use(t.Paging))&&n?u.then(function(){var t=i.unpaged.indexOf(r),n=Math.ceil((t+1)/i.size);if(i.current!==n)return i.goto(n)}):u});t.is.defined(t.Sorting)&&t.Row.extend("val",function(n,i){var u,r;return(i=t.is.boolean(i)?i:!0,u=this._super(n),!t.is.hash(n))?u:(r=this,i&&r.ft.draw().then(function(){var u=r.ft.use(t.Editing),n,f,i;if(t.is.defined(t.Paging)&&u&&u.pageToNew&&(n=r.ft.use(t.Paging))&&(f=n.unpaged.indexOf(r),i=Math.ceil((f+1)/n.size),n.current!==i))return n.goto(i)}),u)})}(jQuery,FooTable),function(n){n.Rows.prototype.add=function(t,i){var r=t;n.is.hash(t)&&(r=new FooTable.Row(this.ft,this.ft.columns.array,t));r instanceof FooTable.Row&&r.add(i)};n.Rows.prototype.update=function(t,i,r){var f=this.ft.rows.all.length,u=t;n.is.number(t)&&t>=0&&t<f&&(u=this.ft.rows.all[t]);u instanceof FooTable.Row&&n.is.hash(i)&&u.val(i,r)};n.Rows.prototype.delete=function(t,i){var u=this.ft.rows.all.length,r=t;n.is.number(t)&&t>=0&&t<u&&(r=this.ft.rows.all[t]);r instanceof FooTable.Row&&r.delete(i)}}(FooTable),function(n,t){var i=0,r=function(n){for(var t=2166136261,i=0,r=n.length;i<r;i++)t^=n.charCodeAt(i),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(location.origin+location.pathname);t.State=t.Component.extend({construct:function(n){this._super(n,n.o.state.enabled);this._key="1";this.key=this._key+(t.is.string(n.o.state.key)?n.o.state.key:this._uid());this.filtering=t.is.boolean(n.o.state.filtering)?n.o.state.filtering:!0;this.paging=t.is.boolean(n.o.state.paging)?n.o.state.paging:!0;this.sorting=t.is.boolean(n.o.state.sorting)?n.o.state.sorting:!0},preinit:function(n){var i=this;this.ft.raise("preinit.ft.state",[n]).then(function(){(i.enabled=t.is.boolean(n.state)?n.state:i.enabled,i.enabled)&&(i.key=i._key+(t.is.string(n.stateKey)?n.stateKey:i.key),i.filtering=t.is.boolean(n.stateFiltering)?n.stateFiltering:i.filtering,i.paging=t.is.boolean(n.statePaging)?n.statePaging:i.paging,i.sorting=t.is.boolean(n.stateSorting)?n.stateSorting:i.sorting)},function(){i.enabled=!1})},get:function(n){return JSON.parse(localStorage.getItem(this.key+":"+n))},set:function(n,t){localStorage.setItem(this.key+":"+n,JSON.stringify(t))},remove:function(n){localStorage.removeItem(this.key+":"+n)},read:function(){this.ft.execute(!1,!0,"readState")},write:function(){this.ft.execute(!1,!0,"writeState")},clear:function(){this.ft.execute(!1,!0,"clearState")},_uid:function(){var n=this.ft.$el.attr("id");return r+"_"+(t.is.string(n)?n:++i)}});t.components.register("state",t.State,700)}(jQuery,FooTable),function(n){n.Component.prototype.readState=function(){};n.Component.prototype.writeState=function(){};n.Component.prototype.clearState=function(){}}(FooTable),function(n){n.Defaults.prototype.state={enabled:!1,filtering:!0,paging:!0,sorting:!0,key:null}}(FooTable),function(n){n.Filtering&&(n.Filtering.prototype.readState=function(){if(this.ft.state.filtering){var t=this.ft.state.get("filtering");n.is.hash(t)&&!n.is.emptyArray(t.filters)&&(this.filters=this.ensure(t.filters))}},n.Filtering.prototype.writeState=function(){if(this.ft.state.filtering){var t=n.arr.map(this.filters,function(t){return{name:t.name,query:t.query instanceof n.Query?t.query.val():t.query,columns:n.arr.map(t.columns,function(n){return n.name}),hidden:t.hidden,space:t.space,connectors:t.connectors,ignoreCase:t.ignoreCase}});this.ft.state.set("filtering",{filters:t})}},n.Filtering.prototype.clearState=function(){this.ft.state.filtering&&this.ft.state.remove("filtering")})}(FooTable),function(n){n.Paging&&(n.Paging.prototype.readState=function(){if(this.ft.state.paging){var t=this.ft.state.get("paging");n.is.hash(t)&&(this.current=t.current,this.size=t.size)}},n.Paging.prototype.writeState=function(){this.ft.state.paging&&this.ft.state.set("paging",{current:this.current,size:this.size})},n.Paging.prototype.clearState=function(){this.ft.state.paging&&this.ft.state.remove("paging")})}(FooTable),function(n){n.Sorting&&(n.Sorting.prototype.readState=function(){var t,i;this.ft.state.sorting&&(t=this.ft.state.get("sorting"),n.is.hash(t)&&(i=this.ft.columns.get(t.column),i instanceof n.Column&&(this.column=i,this.column.direction=t.direction)))},n.Sorting.prototype.writeState=function(){this.ft.state.sorting&&this.column instanceof n.Column&&this.ft.state.set("sorting",{column:this.column.name,direction:this.column.direction})},n.Sorting.prototype.clearState=function(){this.ft.state.sorting&&this.ft.state.remove("sorting")})}(FooTable),function(n){n.Table.extend("_construct",function(n){return this.state=this.use(FooTable.State),this._super(n)});n.Table.extend("_preinit",function(){var n=this;return n._super().then(function(){n.state.enabled&&n.state.read()})});n.Table.extend("draw",function(){var n=this;return n._super().then(function(){n.state.enabled&&n.state.write()})})}(FooTable),function(n,t){t.Export=t.Component.extend({construct:function(n){this._super(n,!0);this.snapshot=[]},predraw:function(){this.snapshot=this.ft.rows.array.slice(0)},columns:function(){var n=[];return t.arr.each(this.ft.columns.array,function(t){t.internal||n.push({type:t.type,name:t.name,title:t.title,visible:t.visible,hidden:t.hidden,classes:t.classes,style:t.style})}),n},rows:function(n){n=t.is.boolean(n)?n:!1;var r=n?this.ft.rows.all:this.snapshot,i=[];return t.arr.each(r,function(n){i.push(n.val())}),i},json:function(n){return JSON.parse(JSON.stringify({columns:this.columns(),rows:this.rows(n)}))},csv:function(n){var r="",e=this.columns(),u,i,f;return t.arr.each(e,function(n,t){i='"'+n.title.replace(/"/g,'""')+'"';r+=t===0?i:","+i}),r+="\n",f=n?this.ft.rows.all:this.snapshot,t.arr.each(f,function(n){t.arr.each(n.cells,function(n,t){n.column.internal||(u=n.column.stringify.call(n.column,n.value,n.ft.o,n.row.value),i='"'+u.replace(/"/g,'""')+'"',r+=t===0?i:","+i)});r+="\n"}),r}});t.components.register("export",t.Export,490)}(jQuery,FooTable),function(n){n.Column.prototype.__export_define__=function(t){this.stringify=n.checkFnValue(this,t.stringify,this.stringify)};n.Column.extend("define",function(n){this._super(n);this.__export_define__(n)});n.Column.prototype.stringify=function(n){return n+""};n.is.defined(n.DateColumn)&&(n.DateColumn.prototype.stringify=function(t){return n.is.object(t)&&n.is.boolean(t._isAMomentObject)&&t.isValid()?t.format(this.formatString):""});n.ObjectColumn.prototype.stringify=function(t){return n.is.object(t)?JSON.stringify(t):""};n.ArrayColumn.prototype.stringify=function(t){return n.is.array(t)?JSON.stringify(t):""}}(FooTable),function(n){n.Table.prototype.toJSON=function(t){return this.use(n.Export).json(t)};n.Table.prototype.toCSV=function(t){return this.use(n.Export).csv(t)}}(FooTable);